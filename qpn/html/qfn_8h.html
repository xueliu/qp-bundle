<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP-nano: qfn.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a id="logo" title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com"></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QP-nano
   &#160;<span id="projectnumber">6.8.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('qfn_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">qfn.h File Reference<div class="ingroups"><a class="el" href="group__qfn.html">QF-nano</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Public QF-nano interface.
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="qfn_8h__dep__incl.png" border="0" usemap="#qfn_8hdep" alt=""/></div>
<map name="qfn_8hdep" id="qfn_8hdep">
<area shape="rect" title="Public QF&#45;nano interface." alt="" coords="118,5,169,32"/>
<area shape="rect" href="qkn_2qfn__port_8h.html" title="QF&#45;nano port for Lint, preemptive QK&#45;nano kernel, generic C compiler." alt="" coords="53,80,132,107"/>
<area shape="rect" href="qvn_2qfn__port_8h.html" title="QF&#45;nano port for Lint, cooperative QV&#45;nano kernel, generic C compiler." alt="" coords="156,80,235,107"/>
<area shape="rect" href="qpn_8h.html" title="QP&#45;nano public interface including backwards&#45;compatibility layer." alt="" coords="5,155,60,181"/>
<area shape="rect" href="qepn_8c.html" title="QEP&#45;nano implementation." alt="" coords="85,155,146,181"/>
<area shape="rect" href="qfn_8c.html" title="QF&#45;nano implementation." alt="" coords="170,155,221,181"/>
<area shape="rect" href="qvn_8c.html" title="QV&#45;nano implementation." alt="" coords="245,155,297,181"/>
<area shape="rect" href="qkn_8c.html" title="QK&#45;nano preemptive kernel implementation." alt="" coords="321,155,376,181"/>
</map>
</div>
</div>
<p><a href="qfn_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct_q_timer"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#struct_q_timer">QTimer</a></td></tr>
<tr class="memdesc:struct_q_timer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer structure the active objects.  <a href="qfn_8h.html#struct_q_timer">More...</a><br /></td></tr>
<tr class="separator:struct_q_timer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_q_active"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#struct_q_active">QActive</a></td></tr>
<tr class="memdesc:struct_q_active"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> active object (based on QHsm-implementation)  <a href="qfn_8h.html#struct_q_active">More...</a><br /></td></tr>
<tr class="separator:struct_q_active"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_active_vtable.html">QActiveVtable</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual table for the <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> class.  <a href="struct_q_active_vtable.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_q_active_c_b"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#struct_q_active_c_b">QActiveCB</a></td></tr>
<tr class="memdesc:struct_q_active_c_b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> Control Block.  <a href="qfn_8h.html#struct_q_active_c_b">More...</a><br /></td></tr>
<tr class="separator:struct_q_active_c_b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2b5eb0c96105f58726359f4fcfae9530"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a2b5eb0c96105f58726359f4fcfae9530">QF_MAX_TICK_RATE</a>&#160;&#160;&#160;1U</td></tr>
<tr class="memdesc:a2b5eb0c96105f58726359f4fcfae9530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value of the macro configurable value in qpn_port.h.  <a href="qfn_8h.html#a2b5eb0c96105f58726359f4fcfae9530">More...</a><br /></td></tr>
<tr class="separator:a2b5eb0c96105f58726359f4fcfae9530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1957439cb1ecff92be7b7401bf3159"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159">QF_NO_MARGIN</a>&#160;&#160;&#160;((<a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>)0xFF)</td></tr>
<tr class="memdesc:a3c1957439cb1ecff92be7b7401bf3159"><td class="mdescLeft">&#160;</td><td class="mdescRight">special value of margin that causes asserting failure in case event posting fails.  <a href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159">More...</a><br /></td></tr>
<tr class="separator:a3c1957439cb1ecff92be7b7401bf3159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41ac57f925509fc92f9b3612f8c03b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#ac41ac57f925509fc92f9b3612f8c03b5">QACTIVE_POST</a>(me_,  sig_,  par_)</td></tr>
<tr class="memdesc:ac41ac57f925509fc92f9b3612f8c03b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polymorphically posts an event to an active object (FIFO) with delivery guarantee (task context).  <a href="qfn_8h.html#ac41ac57f925509fc92f9b3612f8c03b5">More...</a><br /></td></tr>
<tr class="separator:ac41ac57f925509fc92f9b3612f8c03b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00de7cd5eab428566fb510ed63fac6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b">QACTIVE_POST_X</a>(me_,  margin_,  sig_,  par_)</td></tr>
<tr class="memdesc:ae00de7cd5eab428566fb510ed63fac6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polymorphically posts an event to an active object (FIFO) without delivery guarantee (task context).  <a href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b">More...</a><br /></td></tr>
<tr class="separator:ae00de7cd5eab428566fb510ed63fac6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87ff71293fcaf377be03122512ef95e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a>(me_,  sig_,  par_)</td></tr>
<tr class="memdesc:ae87ff71293fcaf377be03122512ef95e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polymorphically posts an event to an active object (FIFO) with delivery guarantee (ISR context).  <a href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">More...</a><br /></td></tr>
<tr class="separator:ae87ff71293fcaf377be03122512ef95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afedb154580e5291936106181d89f84e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#afedb154580e5291936106181d89f84e4">QACTIVE_POST_X_ISR</a>(me_,  margin_,  sig_,  par_)</td></tr>
<tr class="memdesc:afedb154580e5291936106181d89f84e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polymorphically posts an event to an active object (FIFO) without delivery guarantee (ISR context).  <a href="qfn_8h.html#afedb154580e5291936106181d89f84e4">More...</a><br /></td></tr>
<tr class="separator:afedb154580e5291936106181d89f84e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2713c9c68dab479a26536895ef881263"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a2713c9c68dab479a26536895ef881263">QF_ROM_QUEUE_AT_</a>(ao_,  i_)&#160;&#160;&#160;(((<a class="el" href="qepn_8h.html#struct_q_evt">QEvt</a> *)<a class="el" href="qkn_2qfn__port_8h.html#a4fa2969ab20fd9510637d9ac4e662698">Q_ROM_PTR</a>((ao_)-&gt;queue))[(i_)])</td></tr>
<tr class="memdesc:a2713c9c68dab479a26536895ef881263"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro encapsulates accessing the active object queue at a given index, which violates MISRA-C 2004 rules 17.4(req) and 11.4(adv).  <a href="qfn_8h.html#a2713c9c68dab479a26536895ef881263">More...</a><br /></td></tr>
<tr class="separator:a2713c9c68dab479a26536895ef881263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8499412b68d14bcf3d658c74d13b83bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a8499412b68d14bcf3d658c74d13b83bf">QF_ROM_ACTIVE_GET_</a>(p_)&#160;&#160;&#160;((<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *)<a class="el" href="qkn_2qfn__port_8h.html#a4fa2969ab20fd9510637d9ac4e662698">Q_ROM_PTR</a>(<a class="el" href="qfn_8h.html#a4b698945847395139338d141dd394520">QF_active</a>[(p_)].act))</td></tr>
<tr class="memdesc:a8499412b68d14bcf3d658c74d13b83bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro encapsulates accessing the active object control block, which violates MISRA-C 2004 rule 11.4(adv).  <a href="qfn_8h.html#a8499412b68d14bcf3d658c74d13b83bf">More...</a><br /></td></tr>
<tr class="separator:a8499412b68d14bcf3d658c74d13b83bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa601bae6d1b30830ff39b6a13ac10878"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#aa601bae6d1b30830ff39b6a13ac10878">QF_ACTIVE_CAST</a>(a_)&#160;&#160;&#160;((<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *)(a_))</td></tr>
<tr class="memdesc:aa601bae6d1b30830ff39b6a13ac10878"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro encapsulates the upcast to QActive*.  <a href="qfn_8h.html#aa601bae6d1b30830ff39b6a13ac10878">More...</a><br /></td></tr>
<tr class="separator:aa601bae6d1b30830ff39b6a13ac10878"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4c9ee418dab7af7004cfd9ebbb5bc8f5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a></td></tr>
<tr class="memdesc:a4c9ee418dab7af7004cfd9ebbb5bc8f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of the Time Event counter, which determines the dynamic range of the time delays measured in clock ticks.  <a href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">More...</a><br /></td></tr>
<tr class="separator:a4c9ee418dab7af7004cfd9ebbb5bc8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a13edf5eeb78176195720ac88bf70b3ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a13edf5eeb78176195720ac88bf70b3ef">QActive_ctor</a> (<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const me, <a class="el" href="qepn_8h.html#ab3ae5008a861e90f8b2c3c36e83ce478">QStateHandler</a> initial)</td></tr>
<tr class="memdesc:a13edf5eeb78176195720ac88bf70b3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">protected "constructor" of an <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> active object.  <a href="qfn_8h.html#a13edf5eeb78176195720ac88bf70b3ef">More...</a><br /></td></tr>
<tr class="separator:a13edf5eeb78176195720ac88bf70b3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391b212c88303102ce22884bf6813fae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a391b212c88303102ce22884bf6813fae">QActive_postX_</a> (<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const me, <a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> margin, <a class="el" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const sig, <a class="el" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a> const par)</td></tr>
<tr class="memdesc:a391b212c88303102ce22884bf6813fae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the task-level event posting.  <a href="qfn_8h.html#a391b212c88303102ce22884bf6813fae">More...</a><br /></td></tr>
<tr class="separator:a391b212c88303102ce22884bf6813fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1add491f26a0d25cc7bec29758d4a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#afb1add491f26a0d25cc7bec29758d4a4">QActive_postXISR_</a> (<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const me, <a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> margin, <a class="el" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const sig, <a class="el" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a> const par)</td></tr>
<tr class="memdesc:afb1add491f26a0d25cc7bec29758d4a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the ISR-level event posting.  <a href="qfn_8h.html#afb1add491f26a0d25cc7bec29758d4a4">More...</a><br /></td></tr>
<tr class="separator:afb1add491f26a0d25cc7bec29758d4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f78cdad2d12bbbd2fc584bab1c56c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a48f78cdad2d12bbbd2fc584bab1c56c2">QF_tickXISR</a> (<a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> const tickRate)</td></tr>
<tr class="memdesc:a48f78cdad2d12bbbd2fc584bab1c56c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes all armed time events at every clock tick.  <a href="qfn_8h.html#a48f78cdad2d12bbbd2fc584bab1c56c2">More...</a><br /></td></tr>
<tr class="separator:a48f78cdad2d12bbbd2fc584bab1c56c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc1b10b5546d6441a823da4867f4692"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#adbc1b10b5546d6441a823da4867f4692">QActive_armX</a> (<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const me, <a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> const tickRate, <a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a> const nTicks, <a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a> const interval)</td></tr>
<tr class="memdesc:adbc1b10b5546d6441a823da4867f4692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arm the QP-nano one-shot time event.  <a href="qfn_8h.html#adbc1b10b5546d6441a823da4867f4692">More...</a><br /></td></tr>
<tr class="separator:adbc1b10b5546d6441a823da4867f4692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc54c1c6578d6cb53e2c8dd36370e3da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#acc54c1c6578d6cb53e2c8dd36370e3da">QActive_disarmX</a> (<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const me, <a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> const tickRate)</td></tr>
<tr class="memdesc:acc54c1c6578d6cb53e2c8dd36370e3da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disarm a time event.  <a href="qfn_8h.html#acc54c1c6578d6cb53e2c8dd36370e3da">More...</a><br /></td></tr>
<tr class="separator:acc54c1c6578d6cb53e2c8dd36370e3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e56e284f4f0336a56f5ea8e6520295e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a1e56e284f4f0336a56f5ea8e6520295e">QF_init</a> (<a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> maxActive)</td></tr>
<tr class="memdesc:a1e56e284f4f0336a56f5ea8e6520295e"><td class="mdescLeft">&#160;</td><td class="mdescRight">QF-nano initialization.  <a href="qfn_8h.html#a1e56e284f4f0336a56f5ea8e6520295e">More...</a><br /></td></tr>
<tr class="separator:a1e56e284f4f0336a56f5ea8e6520295e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9cb86740bf55c5ad55c1d44fd35921"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#adf9cb86740bf55c5ad55c1d44fd35921">QF_stop</a> (void)</td></tr>
<tr class="memdesc:adf9cb86740bf55c5ad55c1d44fd35921"><td class="mdescLeft">&#160;</td><td class="mdescRight">QF-nano termination.  <a href="qfn_8h.html#adf9cb86740bf55c5ad55c1d44fd35921">More...</a><br /></td></tr>
<tr class="separator:adf9cb86740bf55c5ad55c1d44fd35921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189a6d2ece787717c81fbf51fd180732"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a189a6d2ece787717c81fbf51fd180732">QF_onStartup</a> (void)</td></tr>
<tr class="memdesc:a189a6d2ece787717c81fbf51fd180732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Startup QF-nano callback.  <a href="qfn_8h.html#a189a6d2ece787717c81fbf51fd180732">More...</a><br /></td></tr>
<tr class="separator:a189a6d2ece787717c81fbf51fd180732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a779a1bc9482e2d489dc87751cd100fdb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qassert_8h.html#ab6fd6105e64ed14a0c9281326f05e623">int_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a779a1bc9482e2d489dc87751cd100fdb">QF_run</a> (void)</td></tr>
<tr class="memdesc:a779a1bc9482e2d489dc87751cd100fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers control to QF-nano to run the application.  <a href="qfn_8h.html#a779a1bc9482e2d489dc87751cd100fdb">More...</a><br /></td></tr>
<tr class="separator:a779a1bc9482e2d489dc87751cd100fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4b698945847395139338d141dd394520"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="qfn_8h.html#struct_q_active_c_b">QActiveCB</a> <a class="el" href="qkn_2qfn__port_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a4b698945847395139338d141dd394520">QF_active</a> []</td></tr>
<tr class="separator:a4b698945847395139338d141dd394520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ce310ce2ae2fea8db90609091c716e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a20ce310ce2ae2fea8db90609091c716e">QF_maxActive_</a></td></tr>
<tr class="memdesc:a20ce310ce2ae2fea8db90609091c716e"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of active objects in the application (# elements in QF_active[])  <a href="qfn_8h.html#a20ce310ce2ae2fea8db90609091c716e">More...</a><br /></td></tr>
<tr class="separator:a20ce310ce2ae2fea8db90609091c716e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206fde6616e95338e4c7647c7731563f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a206fde6616e95338e4c7647c7731563f">QF_readySet_</a></td></tr>
<tr class="memdesc:a206fde6616e95338e4c7647c7731563f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ready set of QF-nano.  <a href="qfn_8h.html#a206fde6616e95338e4c7647c7731563f">More...</a><br /></td></tr>
<tr class="separator:a206fde6616e95338e4c7647c7731563f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3858ca07b0233cb8d969680d13ae2ac"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="qkn_2qfn__port_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#aa3858ca07b0233cb8d969680d13ae2ac">QF_log2Lkup</a> [16]</td></tr>
<tr class="memdesc:aa3858ca07b0233cb8d969680d13ae2ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup table for (log2(n) + 1), where n is the index into the table.  <a href="qfn_8h.html#aa3858ca07b0233cb8d969680d13ae2ac">More...</a><br /></td></tr>
<tr class="separator:aa3858ca07b0233cb8d969680d13ae2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae867b998c1825bc2e8b6cd0d1472afc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#ae867b998c1825bc2e8b6cd0d1472afc3">QF_timerSetX_</a> [<a class="el" href="qfn_8h.html#a2b5eb0c96105f58726359f4fcfae9530">QF_MAX_TICK_RATE</a>]</td></tr>
<tr class="memdesc:ae867b998c1825bc2e8b6cd0d1472afc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer set of QF-nano.  <a href="qfn_8h.html#ae867b998c1825bc2e8b6cd0d1472afc3">More...</a><br /></td></tr>
<tr class="separator:ae867b998c1825bc2e8b6cd0d1472afc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9461b89cbc9fc1a67e4d243ff06a89f7"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="qkn_2qfn__port_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qfn_8h.html#a9461b89cbc9fc1a67e4d243ff06a89f7">QF_invPow2Lkup</a> [9]</td></tr>
<tr class="memdesc:a9461b89cbc9fc1a67e4d243ff06a89f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup table for ~(1 &lt;&lt; (n - 1)), where n is the index into the table.  <a href="qfn_8h.html#a9461b89cbc9fc1a67e4d243ff06a89f7">More...</a><br /></td></tr>
<tr class="separator:a9461b89cbc9fc1a67e4d243ff06a89f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Public QF-nano interface. </p>

<p class="definition">Definition in file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_q_timer" id="struct_q_timer"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_q_timer">&#9670;&nbsp;</a></span>QTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct QTimer</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Timer structure the active objects. </p>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00084">84</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for QTimer:</div>
<div class="dyncontent">
<div class="center"><img src="struct_q_timer__coll__graph.png" border="0" usemap="#_q_timer_coll__map" alt="Collaboration graph"/></div>
<map name="_q_timer_coll__map" id="_q_timer_coll__map">
<area shape="rect" title="Timer structure the active objects." alt="" coords="5,5,80,97"/>
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a95f3c4d9182742e62cf5f4b5146949c6"></a><a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a></td>
<td class="fieldname">
nTicks</td>
<td class="fielddoc">
timer tick counter </td></tr>
<tr><td class="fieldtype">
<a id="a53b3919aabc87ac01af63c60e95ac35d"></a><a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a></td>
<td class="fieldname">
interval</td>
<td class="fielddoc">
timer interval </td></tr>
</table>

</div>
</div>
<a name="struct_q_active" id="struct_q_active"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_q_active">&#9670;&nbsp;</a></span>QActive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct QActive</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p><a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> active object (based on QHsm-implementation) </p>
<dl class="section user"><dt>Description</dt><dd><a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> is the base structure for derivation of active objects. Active objects in QF-nano are encapsulated tasks (each embedding a state machine and an event queue) that communicate with one another asynchronously by sending and receiving events. Within an active object, events are processed sequentially in a run-to-completion (RTC) fashion, while QF encapsulates all the details of thread-safe event exchange and queuing.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> is not intended to be instantiated directly, but rather serves as the base structure for derivation of active objects in the application code.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd>The following example illustrates how to derive an active object from <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a>. Please note that the <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> member super_ is defined as the <b>first</b> member of the derived struct. <div class="fragment"><div class="line"><span class="comment">/* PEdestrian Light CONtrolled (PELICAN) crossing active object */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <a class="code" href="qfn_8h.html#struct_q_active">QActive</a> <a class="code" href="qfn_8h.html#a292a76f05e6800a383c7615b4c88cd0e">super</a>;       <span class="comment">/* inherits QActive */</span></div>
<div class="line">    <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> pedFlashCtr; <span class="comment">/* pedestrian flash counter */</span></div>
<div class="line">} Pelican;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* the ctor */</span></div>
<div class="line"><span class="keywordtype">void</span> Pelican_ctor(Pelican * <span class="keyword">const</span> me, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> timeout) {</div>
<div class="line">    <span class="comment">/* call the superclass&#39; ctor... */</span></div>
<div class="line">    <a class="code" href="qfn_8h.html#a13edf5eeb78176195720ac88bf70b3ef">QActive_ctor</a>(&amp;me-&gt;super, <a class="code" href="qepn_8h.html#a6531b0ab582f41275f19d28ac91d9e4f">Q_STATE_CAST</a>(&amp;Pelican_initial));</div>
<div class="line">    . . .    <span class="comment">/* initialize the added attributes */</span></div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00120">120</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for QActive:</div>
<div class="dyncontent">
<div class="center"><img src="struct_q_active__coll__graph.png" border="0" usemap="#_q_active_coll__map" alt="Collaboration graph"/></div>
<map name="_q_active_coll__map" id="_q_active_coll__map">
<area shape="rect" title="QActive active object (based on QHsm&#45;implementation)" alt="" coords="100,315,171,436"/>
<area shape="rect" href="qepn_8h.html#struct_q_hsm" title="Hierarchical State Machine." alt="" coords="49,160,112,252"/>
<area shape="rect" href="qepn_8h.html#struct_q_evt" title="Event structure." alt="" coords="5,5,57,97"/>
<area shape="rect" href="struct_q_hsm_vtable.html" title="Virtual table for the QHsm class." alt="" coords="82,5,178,97"/>
<area shape="rect" href="qfn_8h.html#struct_q_timer" title="Timer structure the active objects." alt="" coords="137,160,211,252"/>
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a292a76f05e6800a383c7615b4c88cd0e"></a><a class="el" href="qepn_8h.html#struct_q_hsm">QHsm</a></td>
<td class="fieldname">
super</td>
<td class="fielddoc">
<p>derives from the <a class="el" href="qepn_8h.html#struct_q_hsm" title="Hierarchical State Machine.">QHsm</a> base class </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae3121be2fb23d44900d8c29b9b0c5b4a"></a><a class="el" href="qfn_8h.html#struct_q_timer">QTimer</a></td>
<td class="fieldname">
tickCtr[<a class="el" href="qfn_8h.html#a2b5eb0c96105f58726359f4fcfae9530">QF_MAX_TICK_RATE</a>]</td>
<td class="fielddoc">
Timer for the active object. </td></tr>
<tr><td class="fieldtype">
<a id="acc0b27a6740f03639727be452f1e6b83"></a><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
prio</td>
<td class="fielddoc">
priority of the active object (1..8) </td></tr>
<tr><td class="fieldtype">
<a id="aa05d7415999920677b90faf55568ac88"></a><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> volatile</td>
<td class="fieldname">
head</td>
<td class="fielddoc">
offset to where next event will be inserted into the buffer </td></tr>
<tr><td class="fieldtype">
<a id="ad39f872fd7d5ac7208f4f57ae0ed2d4c"></a><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> volatile</td>
<td class="fieldname">
tail</td>
<td class="fielddoc">
offset of where next event will be extracted from the buffer </td></tr>
<tr><td class="fieldtype">
<a id="a1de37eca931aadf988a6dcbad3259615"></a><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> volatile</td>
<td class="fieldname">
nUsed</td>
<td class="fielddoc">
number of events currently present in the queue (events in the ring buffer + 1 event in the state machine) </td></tr>
</table>

</div>
</div>
<a name="struct_q_active_c_b" id="struct_q_active_c_b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_q_active_c_b">&#9670;&nbsp;</a></span>QActiveCB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct QActiveCB</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p><a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> Control Block. </p>
<p><a class="el" href="qfn_8h.html#struct_q_active_c_b" title="QActive Control Block.">QActiveCB</a> represents the read-only information that the QF-nano needs to manage the active object. <a class="el" href="qfn_8h.html#struct_q_active_c_b" title="QActive Control Block.">QActiveCB</a> objects are grouped in the array QF_active[], which typically can be placed in ROM.</p>
<dl class="section user"><dt>Usage</dt><dd>The following example illustrates how to allocate and initialize the <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> control blocks in the array QF_active[]. <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="qpn_8h.html">qpn.h</a>&quot;</span>     <span class="comment">/* QP-nano API */</span></div>
<div class="line"><span class="preprocessor">#include &quot;bsp.h&quot;</span>     <span class="comment">/* Board Support Package (BSP) */</span></div>
<div class="line"><span class="preprocessor">#include &quot;pelican.h&quot;</span> <span class="comment">/* Application interface */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*..........................................................................*/</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#struct_q_evt">QEvt</a> l_pelicanQueue[2];</div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#struct_q_evt">QEvt</a> l_pedQueue[1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* QF_active[] array defines all active object control blocks --------------*/</span></div>
<div class="line"><a class="code" href="qfn_8h.html#struct_q_active_c_b">QActiveCB</a> <span class="keyword">const</span> <a class="code" href="qassert_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a> <a class="code" href="qfn_8h.html#a4b698945847395139338d141dd394520">QF_active</a>[] = {</div>
<div class="line">    { (<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)0,           (<a class="code" href="qepn_8h.html#struct_q_evt">QEvt</a> *)0,      0                     },</div>
<div class="line">    { (<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Pelican, l_pelicanQueue, <a class="code" href="qassert_8h.html#ad58d2c6dc25f8f0f764eb69faa79eee2">Q_DIM</a>(l_pelicanQueue) },</div>
<div class="line">    { (<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Ped,     l_pedQueue,     <a class="code" href="qassert_8h.html#ad58d2c6dc25f8f0f764eb69faa79eee2">Q_DIM</a>(l_pedQueue)     }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*..........................................................................*/</span></div>
<div class="line"><a class="code" href="qassert_8h.html#ab6fd6105e64ed14a0c9281326f05e623">int_t</a> main (<span class="keywordtype">void</span>) {</div>
<div class="line">    Pelican_ctor();  <span class="comment">/* instantiate the  Pelican AO */</span></div>
<div class="line">    Ped_ctor();      <span class="comment">/* instantiate the  Ped     AO */</span></div>
<div class="line"> </div>
<div class="line">    <a class="code" href="qfn_8h.html#a1e56e284f4f0336a56f5ea8e6520295e">QF_init</a>(<a class="code" href="qassert_8h.html#ad58d2c6dc25f8f0f764eb69faa79eee2">Q_DIM</a>(<a class="code" href="qfn_8h.html#a4b698945847395139338d141dd394520">QF_active</a>)); <span class="comment">/* initialize the QF-nano framework */</span></div>
<div class="line">    BSP_init();      <span class="comment">/* initialize the Board Support Package */</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="qfn_8h.html#a779a1bc9482e2d489dc87751cd100fdb">QF_run</a>(); <span class="comment">/* transfer control to QF-nano */</span></div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00383">383</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for QActiveCB:</div>
<div class="dyncontent">
<div class="center"><img src="struct_q_active_c_b__coll__graph.png" border="0" usemap="#_q_active_c_b_coll__map" alt="Collaboration graph"/></div>
<map name="_q_active_c_b_coll__map" id="_q_active_c_b_coll__map">
<area shape="rect" title="QActive Control Block." alt="" coords="17,499,102,576"/>
<area shape="rect" href="qepn_8h.html#struct_q_evt" title="Event structure." alt="" coords="5,5,57,97"/>
<area shape="rect" href="qepn_8h.html#struct_q_hsm" title="Hierarchical State Machine." alt="" coords="71,160,133,252"/>
<area shape="rect" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm&#45;implementation)" alt="" coords="72,315,143,436"/>
<area shape="rect" href="struct_q_hsm_vtable.html" title="Virtual table for the QHsm class." alt="" coords="85,5,181,97"/>
<area shape="rect" href="qfn_8h.html#struct_q_timer" title="Timer structure the active objects." alt="" coords="158,160,233,252"/>
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a65e36c02cbbc84b8053bf4fca82016f3"></a><a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *</td>
<td class="fieldname">
act</td>
<td class="fielddoc">
pointer to the active object structure </td></tr>
<tr><td class="fieldtype">
<a id="ac7e42becba1a4e130dd762e8b79a0be0"></a><a class="el" href="qepn_8h.html#struct_q_evt">QEvt</a> *</td>
<td class="fieldname">
queue</td>
<td class="fielddoc">
pointer to the event queue buffer </td></tr>
<tr><td class="fieldtype">
<a id="a75b4d34ef3d45b0b660b30aaddb60cb5"></a><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
qlen</td>
<td class="fielddoc">
the length of the queue ring buffer </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2b5eb0c96105f58726359f4fcfae9530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5eb0c96105f58726359f4fcfae9530">&#9670;&nbsp;</a></span>QF_MAX_TICK_RATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QF_MAX_TICK_RATE&#160;&#160;&#160;1U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value of the macro configurable value in qpn_port.h. </p>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00094">94</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="a3c1957439cb1ecff92be7b7401bf3159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1957439cb1ecff92be7b7401bf3159">&#9670;&nbsp;</a></span>QF_NO_MARGIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QF_NO_MARGIN&#160;&#160;&#160;((<a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>)0xFF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>special value of margin that causes asserting failure in case event posting fails. </p>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00177">177</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="ac41ac57f925509fc92f9b3612f8c03b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41ac57f925509fc92f9b3612f8c03b5">&#9670;&nbsp;</a></span>QACTIVE_POST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QACTIVE_POST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">me_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sig_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">par_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="keywordflow">do</span> {                      \</div>
<div class="line">        QActive * <span class="keyword">const</span> ao_ = <a class="code" href="qfn_8h.html#aa601bae6d1b30830ff39b6a13ac10878">QF_ACTIVE_CAST</a>((me_));                \</div>
<div class="line">        ((void)(*((<a class="code" href="struct_q_active_vtable.html">QActiveVtable</a> <span class="keyword">const</span> *)(ao_-&gt;super.vptr))-&gt;post)( \</div>
<div class="line">                ao_, <a class="code" href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159">QF_NO_MARGIN</a>, (<a class="code" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a>)(sig_), (<a class="code" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a>)(par_)));\</div>
<div class="line">    } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div>
</div><!-- fragment -->
<p>Polymorphically posts an event to an active object (FIFO) with delivery guarantee (task context). </p>
<dl class="section user"><dt>Description</dt><dd>This macro asserts if the queue overflows and cannot accept the event.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me_</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig_</td><td>signal of the event to post </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par_</td><td>parameter of the event to post.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b" title="Polymorphically posts an event to an active object (FIFO) without delivery guarantee (task context).">QACTIVE_POST_X()</a>, <a class="el" href="qfn_8h.html#a391b212c88303102ce22884bf6813fae" title="Implementation of the task-level event posting.">QActive_postX_()</a>, <a class="el" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e" title="Polymorphically posts an event to an active object (FIFO) with delivery guarantee (ISR context).">QACTIVE_POST_ISR()</a>, <a class="el" href="qfn_8h.html#afb1add491f26a0d25cc7bec29758d4a4" title="Implementation of the ISR-level event posting.">QActive_postXISR_()</a>.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd><div class="fragment"><div class="line"><span class="comment">/* event posting from the interrupt context (QACTIVE_POST_ISR()) ... */</span></div>
<div class="line"><span class="preprocessor">#pragma vector=TIMER0_A0_VECTOR</span></div>
<div class="line">__interrupt <span class="keywordtype">void</span> TIMER0_A0_ISR(<span class="keywordtype">void</span>) {</div>
<div class="line">    <a class="code" href="qkn_2qfn__port_8h.html#ad3a6c9c79a8f39f1299196922e3eb6b5">QK_ISR_ENTRY</a>();  <span class="comment">/* infrom QK-nano about entering an ISR */</span></div>
<div class="line"> </div>
<div class="line">    <a class="code" href="qfn_8h.html#a48f78cdad2d12bbbd2fc584bab1c56c2">QF_tickXISR</a>(0U); <span class="comment">/* process time events for rate 0 */</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* post TIME_TICK events to all interested active objects... */</span></div>
<div class="line">    <a class="code" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,  TIME_TICK_SIG, 0U);</div>
<div class="line">    <a class="code" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Ship,    TIME_TICK_SIG, 0U);</div>
<div class="line">    <a class="code" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Missile, TIME_TICK_SIG, 0U);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="qkn_2qfn__port_8h.html#a18f2cc4dd2d00e3d5efb593d0754a95b">QK_ISR_EXIT</a>();   <span class="comment">/* infrom QK-nano about exiting an ISR */</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* event posting from the task context (QACTIVE_POST())... */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Ship_flying(Ship * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> TIME_TICK_SIG: {</div>
<div class="line">            . . .</div>
<div class="line">            <span class="keywordflow">if</span> ((me-&gt;score % 10) == 0) { <span class="comment">/* is the score &quot;round&quot;? */</span></div>
<div class="line">                <a class="code" href="qfn_8h.html#ac41ac57f925509fc92f9b3612f8c03b5">QACTIVE_POST</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,</div>
<div class="line">                    SCORE_SIG, me-&gt;score); <span class="comment">/* signal and parameter */</span></div>
<div class="line">            }</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        . . .</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00197">197</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="ae00de7cd5eab428566fb510ed63fac6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae00de7cd5eab428566fb510ed63fac6b">&#9670;&nbsp;</a></span>QACTIVE_POST_X</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QACTIVE_POST_X</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">me_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">margin_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sig_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">par_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        ((*((<a class="code" href="struct_q_active_vtable.html">QActiveVtable</a> <span class="keyword">const</span> *)((me_)-&gt;super.vptr))-&gt;post)( \</div>
<div class="line">             (me_), (margin_), (<a class="code" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a>)(sig_), (<a class="code" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a>)(par_)))</div>
</div><!-- fragment -->
<p>Polymorphically posts an event to an active object (FIFO) without delivery guarantee (task context). </p>
<dl class="section user"><dt>Description</dt><dd>This macro does not assert if the queue overflows and cannot accept the event with the specified margin of free slots remaining.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me_</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">margin_</td><td>the minimum free slots in the queue, which must still be available after posting the event. The special value <a class="el" href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159" title="special value of margin that causes asserting failure in case event posting fails.">QF_NO_MARGIN</a> causes asserting failure in case event allocation fails. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig_</td><td>signal of the event to post </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par_</td><td>parameter of the event to post.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'true' if the posting succeeded, and 'false' if the posting failed due to insufficient margin of free slots available in the queue.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd><div class="fragment"><div class="line"><span class="comment">/* &quot;extended&quot; event posting from the interrupt context (QACTIVE_POST_X_ISR) */</span></div>
<div class="line"><span class="keywordtype">void</span> SysTick_Handler(<span class="keywordtype">void</span>) {</div>
<div class="line">    . . .</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#afedb154580e5291936106181d89f84e4">QACTIVE_POST_X_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Cruncher,</div>
<div class="line">             5U,            <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">             ECHO_SIG, 0U)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* event posting failed... */</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* &quot;extended&quot; event posting from the task context (QACTIVE_POST_X())... */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Ship_flying(Ship * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> TIME_TICK_SIG: {</div>
<div class="line">            . . .</div>
<div class="line">            <span class="keywordflow">if</span> ((me-&gt;score % 10) == 0) { <span class="comment">/* is the score &quot;round&quot;? */</span></div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b">QACTIVE_POST_X</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,</div>
<div class="line">                        4U, <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">                        SCORE_SIG, me-&gt;score)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">/* event posting failed... */</span></div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        . . .</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00226">226</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="ae87ff71293fcaf377be03122512ef95e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87ff71293fcaf377be03122512ef95e">&#9670;&nbsp;</a></span>QACTIVE_POST_ISR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QACTIVE_POST_ISR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">me_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sig_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">par_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="keywordflow">do</span> {                     \</div>
<div class="line">        QActive * <span class="keyword">const</span> ao_ = <a class="code" href="qfn_8h.html#aa601bae6d1b30830ff39b6a13ac10878">QF_ACTIVE_CAST</a>((me_));                   \</div>
<div class="line">        ((void)(*((<a class="code" href="struct_q_active_vtable.html">QActiveVtable</a> <span class="keyword">const</span> *)(ao_-&gt;super.vptr))-&gt;postISR)( \</div>
<div class="line">                ao_, <a class="code" href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159">QF_NO_MARGIN</a>, (<a class="code" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a>)(sig_), (<a class="code" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a>)(par_)));   \</div>
<div class="line">    } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div>
</div><!-- fragment -->
<p>Polymorphically posts an event to an active object (FIFO) with delivery guarantee (ISR context). </p>
<dl class="section user"><dt>Description</dt><dd>This macro asserts if the queue overflows and cannot accept the event.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me_</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig_</td><td>signal of the event to post </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par_</td><td>parameter of the event to post.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b" title="Polymorphically posts an event to an active object (FIFO) without delivery guarantee (task context).">QACTIVE_POST_X()</a>, <a class="el" href="qfn_8h.html#a391b212c88303102ce22884bf6813fae" title="Implementation of the task-level event posting.">QActive_postX_()</a>.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd><div class="fragment"><div class="line"><span class="comment">/* event posting from the interrupt context (QACTIVE_POST_ISR()) ... */</span></div>
<div class="line"><span class="preprocessor">#pragma vector=TIMER0_A0_VECTOR</span></div>
<div class="line">__interrupt <span class="keywordtype">void</span> TIMER0_A0_ISR(<span class="keywordtype">void</span>) {</div>
<div class="line">    <a class="code" href="qkn_2qfn__port_8h.html#ad3a6c9c79a8f39f1299196922e3eb6b5">QK_ISR_ENTRY</a>();  <span class="comment">/* infrom QK-nano about entering an ISR */</span></div>
<div class="line"> </div>
<div class="line">    <a class="code" href="qfn_8h.html#a48f78cdad2d12bbbd2fc584bab1c56c2">QF_tickXISR</a>(0U); <span class="comment">/* process time events for rate 0 */</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* post TIME_TICK events to all interested active objects... */</span></div>
<div class="line">    <a class="code" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,  TIME_TICK_SIG, 0U);</div>
<div class="line">    <a class="code" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Ship,    TIME_TICK_SIG, 0U);</div>
<div class="line">    <a class="code" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Missile, TIME_TICK_SIG, 0U);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="qkn_2qfn__port_8h.html#a18f2cc4dd2d00e3d5efb593d0754a95b">QK_ISR_EXIT</a>();   <span class="comment">/* infrom QK-nano about exiting an ISR */</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* event posting from the task context (QACTIVE_POST())... */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Ship_flying(Ship * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> TIME_TICK_SIG: {</div>
<div class="line">            . . .</div>
<div class="line">            <span class="keywordflow">if</span> ((me-&gt;score % 10) == 0) { <span class="comment">/* is the score &quot;round&quot;? */</span></div>
<div class="line">                <a class="code" href="qfn_8h.html#ac41ac57f925509fc92f9b3612f8c03b5">QACTIVE_POST</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,</div>
<div class="line">                    SCORE_SIG, me-&gt;score); <span class="comment">/* signal and parameter */</span></div>
<div class="line">            }</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        . . .</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00246">246</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="afedb154580e5291936106181d89f84e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afedb154580e5291936106181d89f84e4">&#9670;&nbsp;</a></span>QACTIVE_POST_X_ISR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QACTIVE_POST_X_ISR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">me_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">margin_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sig_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">par_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        ((*((<a class="code" href="struct_q_active_vtable.html">QActiveVtable</a> <span class="keyword">const</span> *)(                       \</div>
<div class="line">            <a class="code" href="qfn_8h.html#aa601bae6d1b30830ff39b6a13ac10878">QF_ACTIVE_CAST</a>((me_))-&gt;super.vptr))-&gt;postISR)( \</div>
<div class="line">                <a class="code" href="qfn_8h.html#aa601bae6d1b30830ff39b6a13ac10878">QF_ACTIVE_CAST</a>((me_)), (margin_),          \</div>
<div class="line">                (<a class="code" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a>)(sig_), (<a class="code" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a>)(par_)))</div>
</div><!-- fragment -->
<p>Polymorphically posts an event to an active object (FIFO) without delivery guarantee (ISR context). </p>
<dl class="section user"><dt>Description</dt><dd>This macro does not assert if the queue overflows and cannot accept the event with the specified margin of free slots remaining.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me_</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">margin_</td><td>the minimum free slots in the queue, which must still be available after posting the event. The special value <a class="el" href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159" title="special value of margin that causes asserting failure in case event posting fails.">QF_NO_MARGIN</a> causes asserting failure in case event allocation fails. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig_</td><td>signal of the event to post </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par_</td><td>parameter of the event to post.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'true' if the posting succeeded, and 'false' if the posting failed due to insufficient margin of free slots available in the queue.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd><div class="fragment"><div class="line"><span class="comment">/* &quot;extended&quot; event posting from the interrupt context (QACTIVE_POST_X_ISR) */</span></div>
<div class="line"><span class="keywordtype">void</span> SysTick_Handler(<span class="keywordtype">void</span>) {</div>
<div class="line">    . . .</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#afedb154580e5291936106181d89f84e4">QACTIVE_POST_X_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Cruncher,</div>
<div class="line">             5U,            <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">             ECHO_SIG, 0U)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* event posting failed... */</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* &quot;extended&quot; event posting from the task context (QACTIVE_POST_X())... */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Ship_flying(Ship * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> TIME_TICK_SIG: {</div>
<div class="line">            . . .</div>
<div class="line">            <span class="keywordflow">if</span> ((me-&gt;score % 10) == 0) { <span class="comment">/* is the score &quot;round&quot;? */</span></div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b">QACTIVE_POST_X</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,</div>
<div class="line">                        4U, <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">                        SCORE_SIG, me-&gt;score)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">/* event posting failed... */</span></div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        . . .</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00275">275</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="a2713c9c68dab479a26536895ef881263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2713c9c68dab479a26536895ef881263">&#9670;&nbsp;</a></span>QF_ROM_QUEUE_AT_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QF_ROM_QUEUE_AT_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ao_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((<a class="el" href="qepn_8h.html#struct_q_evt">QEvt</a> *)<a class="el" href="qkn_2qfn__port_8h.html#a4fa2969ab20fd9510637d9ac4e662698">Q_ROM_PTR</a>((ao_)-&gt;queue))[(i_)])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro encapsulates accessing the active object queue at a given index, which violates MISRA-C 2004 rules 17.4(req) and 11.4(adv). </p>
<p>This macro helps to localize this deviation. </p>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00428">428</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="a8499412b68d14bcf3d658c74d13b83bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8499412b68d14bcf3d658c74d13b83bf">&#9670;&nbsp;</a></span>QF_ROM_ACTIVE_GET_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QF_ROM_ACTIVE_GET_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p_</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *)<a class="el" href="qkn_2qfn__port_8h.html#a4fa2969ab20fd9510637d9ac4e662698">Q_ROM_PTR</a>(<a class="el" href="qfn_8h.html#a4b698945847395139338d141dd394520">QF_active</a>[(p_)].act))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro encapsulates accessing the active object control block, which violates MISRA-C 2004 rule 11.4(adv). </p>
<p>This macro helps to localize this deviation. </p>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00434">434</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<a id="aa601bae6d1b30830ff39b6a13ac10878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa601bae6d1b30830ff39b6a13ac10878">&#9670;&nbsp;</a></span>QF_ACTIVE_CAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QF_ACTIVE_CAST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a_</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *)(a_))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro encapsulates the upcast to QActive*. </p>
<p>This macro encapsulates up-casting a pointer to a subclass of <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> to the base class <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a>, which violates MISRA-C 2004 rule 11.4(adv). This macro helps to localize this deviation. </p>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00442">442</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a4c9ee418dab7af7004cfd9ebbb5bc8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c9ee418dab7af7004cfd9ebbb5bc8f5">&#9670;&nbsp;</a></span>QTimeEvtCtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of the Time Event counter, which determines the dynamic range of the time delays measured in clock ticks. </p>
<dl class="section user"><dt>Description</dt><dd>This header file must be included in all modules that use QP-nano. Typically, this header file is included indirectly through the header file qpn_port.h. </dd></dl>
<dl class="section user"><dt>Description</dt><dd>This typedef is configurable via the preprocessor switch <a class="el" href="qpn__conf_8h.html#a80d059a0d02a2573c76f4eb5df0228ae" title="The size (in bytes) of the time event-counter representation in the QActive struct.">QF_TIMEEVT_CTR_SIZE</a>. The other possible values of this type are as follows: <br  />
none when (QF_TIMEEVT_CTR_SIZE not defined or == 0U), <br  />
uint8_t when (QF_TIMEEVT_CTR_SIZE == 1U); <br  />
uint16_t when (QF_TIMEEVT_CTR_SIZE == 2U); and <br  />
uint32_t when (QF_TIMEEVT_CTR_SIZE == 4U). </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8h_source.html#l00075">75</a> of file <a class="el" href="qfn_8h_source.html">qfn.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a13edf5eeb78176195720ac88bf70b3ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13edf5eeb78176195720ac88bf70b3ef">&#9670;&nbsp;</a></span>QActive_ctor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QActive_ctor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#ab3ae5008a861e90f8b2c3c36e83ce478">QStateHandler</a>&#160;</td>
          <td class="paramname"><em>initial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>protected "constructor" of an <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> active object. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a> inherits <a class="el" href="qfn_8h.html#struct_q_active" title="QActive active object (based on QHsm-implementation)">QActive</a>, so by the <a class="el" href="index.html#oop">Object Orientation</a> convention it should call the constructor of the superclass, i.e., <a class="el" href="qfn_8c.html#a13edf5eeb78176195720ac88bf70b3ef" title="protected &quot;constructor&quot; of an QActive active object.">QActive_ctor()</a>. However, this would pull in the <a class="el" href="struct_q_active_vtable.html" title="Virtual table for the QActive class.">QActiveVtable</a>, which in turn will pull in the code for <a class="el" href="qepn_8h.html#abce9d9232e53dc4f4dda0b410d592c9d" title="Implementation of the top-most initial transition in QHsm.">QHsm_init_()</a> and <a class="el" href="qepn_8h.html#ad29c2bfe203bc9e7415ca340e30da4ee" title="Implementation of dispatching events to QHsm.">QHsm_dispatch_()</a> implemetations, which is expensive. To avoid this code size penalty, in case <a class="el" href="qepn_8h.html#struct_q_hsm" title="Hierarchical State Machine.">QHsm</a> is not used in a given project, the call to <a class="el" href="qepn_8h.html#a3e1d1635d8a7f2247272bb425d8839b8" title="protected &quot;constructor&quot; of a HSM.">QHsm_ctor()</a> avoids pulling in the code for <a class="el" href="qepn_8h.html#struct_q_hsm" title="Hierarchical State Machine.">QHsm</a>.</dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00096">96</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="a391b212c88303102ce22884bf6813fae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391b212c88303102ce22884bf6813fae">&#9670;&nbsp;</a></span>QActive_postX_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> QActive_postX_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>&#160;</td>
          <td class="paramname"><em>margin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a> const&#160;</td>
          <td class="paramname"><em>par</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of the task-level event posting. </p>
<dl class="section user"><dt>Description</dt><dd>Direct event posting is the simplest asynchronous communication method available in QF-nano.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function should be called only via the macro <a class="el" href="qfn_8h.html#ac41ac57f925509fc92f9b3612f8c03b5" title="Polymorphically posts an event to an active object (FIFO) with delivery guarantee (task context).">QACTIVE_POST()</a> or <a class="el" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b" title="Polymorphically posts an event to an active object (FIFO) without delivery guarantee (task context).">QACTIVE_POST_X()</a>. This function should be only used in the <b>task</b> context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">margin</td><td>number of required free slots in the queue after posting the event. The special value <a class="el" href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159" title="special value of margin that causes asserting failure in case event posting fails.">QF_NO_MARGIN</a> means that this function will assert if posting fails. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig</td><td>signal of the event to be posted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par</td><td>parameter of the event to be posted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Usage</dt><dd><div class="fragment"><div class="line"><span class="comment">/* &quot;extended&quot; event posting from the interrupt context (QACTIVE_POST_X_ISR) */</span></div>
<div class="line"><span class="keywordtype">void</span> SysTick_Handler(<span class="keywordtype">void</span>) {</div>
<div class="line">    . . .</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#afedb154580e5291936106181d89f84e4">QACTIVE_POST_X_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Cruncher,</div>
<div class="line">             5U,            <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">             ECHO_SIG, 0U)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* event posting failed... */</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* &quot;extended&quot; event posting from the task context (QACTIVE_POST_X())... */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Ship_flying(Ship * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> TIME_TICK_SIG: {</div>
<div class="line">            . . .</div>
<div class="line">            <span class="keywordflow">if</span> ((me-&gt;score % 10) == 0) { <span class="comment">/* is the score &quot;round&quot;? */</span></div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b">QACTIVE_POST_X</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,</div>
<div class="line">                        4U, <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">                        SCORE_SIG, me-&gt;score)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">/* event posting failed... */</span></div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        . . .</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00139">139</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="afb1add491f26a0d25cc7bec29758d4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb1add491f26a0d25cc7bec29758d4a4">&#9670;&nbsp;</a></span>QActive_postXISR_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> QActive_postXISR_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>&#160;</td>
          <td class="paramname"><em>margin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a> const&#160;</td>
          <td class="paramname"><em>par</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of the ISR-level event posting. </p>
<dl class="section user"><dt>Description</dt><dd>Direct event posting is the simplest asynchronous communication method available in QF-nano.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function should be called only via the macro <a class="el" href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e" title="Polymorphically posts an event to an active object (FIFO) with delivery guarantee (ISR context).">QACTIVE_POST_ISR()</a> or <a class="el" href="qfn_8h.html#afedb154580e5291936106181d89f84e4" title="Polymorphically posts an event to an active object (FIFO) without delivery guarantee (ISR context).">QACTIVE_POST_X_ISR()</a>. This function should be only used in the <b>ISR</b> context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">margin</td><td>number of required free slots in the queue after posting the event. The special value <a class="el" href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159" title="special value of margin that causes asserting failure in case event posting fails.">QF_NO_MARGIN</a> means that this function will assert if posting fails. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig</td><td>signal of the event to be posted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">par</td><td>parameter of the event to be posted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Usage</dt><dd><div class="fragment"><div class="line"><span class="comment">/* &quot;extended&quot; event posting from the interrupt context (QACTIVE_POST_X_ISR) */</span></div>
<div class="line"><span class="keywordtype">void</span> SysTick_Handler(<span class="keywordtype">void</span>) {</div>
<div class="line">    . . .</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#afedb154580e5291936106181d89f84e4">QACTIVE_POST_X_ISR</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Cruncher,</div>
<div class="line">             5U,            <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">             ECHO_SIG, 0U)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* event posting failed... */</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* &quot;extended&quot; event posting from the task context (QACTIVE_POST_X())... */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Ship_flying(Ship * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> TIME_TICK_SIG: {</div>
<div class="line">            . . .</div>
<div class="line">            <span class="keywordflow">if</span> ((me-&gt;score % 10) == 0) { <span class="comment">/* is the score &quot;round&quot;? */</span></div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b">QACTIVE_POST_X</a>((<a class="code" href="qfn_8h.html#struct_q_active">QActive</a> *)&amp;AO_Tunnel,</div>
<div class="line">                        4U, <span class="comment">/* margin of free slots in the queue */</span></div>
<div class="line">                        SCORE_SIG, me-&gt;score)) <span class="comment">/* signal and parameter */</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">/* event posting failed... */</span></div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        . . .</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00224">224</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="a48f78cdad2d12bbbd2fc584bab1c56c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48f78cdad2d12bbbd2fc584bab1c56c2">&#9670;&nbsp;</a></span>QF_tickXISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_tickXISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> const&#160;</td>
          <td class="paramname"><em>tickRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes all armed time events at every clock tick. </p>
<dl class="section user"><dt>Description</dt><dd>This function must be called periodically from a time-tick ISR or from an ISR so that QF-nano can manage the timeout events assigned to the given system clock tick rate.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tickRate</td><td>system clock tick rate serviced in this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Each system tick rate posts timeout events with a different signal as follows:<br  />
tickRate==0 Q_TIMEOUT_SIG<br  />
tickRate==1 Q_TIMEOUT1_SIG<br  />
tickRate==2 Q_TIMEOUT2_SIG<br  />
tickRate==3 Q_TIMEOUT3_SIG</dd>
<dd>
The calls to <a class="el" href="qfn_8c.html#a48f78cdad2d12bbbd2fc584bab1c56c2" title="Processes all armed time events at every clock tick.">QF_tickXISR()</a> with different tick rate parameter can preempt each other. For example, higher clock tick rates might be serviced from interrupts that can preempt lower-priority interrupts. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00393">393</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="adbc1b10b5546d6441a823da4867f4692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbc1b10b5546d6441a823da4867f4692">&#9670;&nbsp;</a></span>QActive_armX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QActive_armX </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> const&#160;</td>
          <td class="paramname"><em>tickRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a> const&#160;</td>
          <td class="paramname"><em>nTicks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qfn_8h.html#a4c9ee418dab7af7004cfd9ebbb5bc8f5">QTimeEvtCtr</a> const&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arm the QP-nano one-shot time event. </p>
<dl class="section user"><dt>Description</dt><dd>Arms a time event to fire in a specified number of clock ticks at the specified tick rate. The timeout signal gets directly posted (using the FIFO policy) into the event queue of the active object calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tickRate</td><td>tick rate . </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nTicks</td><td>number of clock ticks (at the associated rate) to rearm the time event with.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Each system tick rate posts timeout events with a different signal as follows:<br  />
tickRate==0 Q_TIMEOUT_SIG<br  />
tickRate==1 Q_TIMEOUT1_SIG<br  />
tickRate==2 Q_TIMEOUT2_SIG<br  />
tickRate==3 Q_TIMEOUT3_SIG</dd>
<dd>
After posting, a one-shot time event gets automatically disarmed.</dd>
<dd>
A time event can be disarmed at any time by calling the <a class="el" href="qfn_8c.html#acc54c1c6578d6cb53e2c8dd36370e3da" title="Disarm a time event.">QActive_disarmX()</a> function.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd>The following example shows how to arm a time event from a state machine of an active object: <div class="fragment"><div class="line"><span class="comment">/* when #QF_TIMEEVT_PERIODIC is NOT defined... */</span></div>
<div class="line"><a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Pelican_carsGreen(Pelican * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#aa6dc9adf3f51310aa41685019829374b">Q_ENTRY_SIG</a>: {</div>
<div class="line">            <span class="comment">/* arm timer (one-shot) at tick rate 0 */</span></div>
<div class="line">            <a class="code" href="qfn_8h.html#adbc1b10b5546d6441a823da4867f4692">QActive_armX</a>(&amp;me-&gt;super, 0U,</div>
<div class="line">                         CARS_GREEN_MIN_TOUT);</div>
<div class="line">            BSP_signalCars(CARS_GREEN);</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#a6cf79ec599f6d7870aafe06c71de79be">Q_EXIT_SIG</a>: {</div>
<div class="line">            QActive_disarm(&amp;me-&gt;super)</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            break;</div>
<div class="line">        }</div>
<div class="line">        case <a class="code" href="qepn_8h.html#ab1a3d74abc659d49b63453c981aace18">Q_INIT_SIG</a>: {</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a8f06cd90ba5060780fc61a4810e3eb50">Q_TRAN</a>(&amp;Pelican_carsGreenNoPed);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">default</span>: {</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#ad8abd2f7098c41ec464343d9d8f1eadc">Q_SUPER</a>(&amp;Pelican_carsEnabled);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* when #QF_TIMEEVT_PERIODIC is defined... */</span></div>
<div class="line"><a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> Pelican_carsGreen(Pelican * <span class="keyword">const</span> me) {</div>
<div class="line">    <a class="code" href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a> status_;</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a>(me)) {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#aa6dc9adf3f51310aa41685019829374b">Q_ENTRY_SIG</a>: {</div>
<div class="line">            <span class="comment">/* arm timer (one-shot) at tick rate 0 */</span></div>
<div class="line">            <a class="code" href="qfn_8h.html#adbc1b10b5546d6441a823da4867f4692">QActive_armX</a>(&amp;me-&gt;super, 0U,</div>
<div class="line">                         CARS_GREEN_MIN_TOUT, 0U);</div>
<div class="line">            BSP_signalCars(CARS_GREEN);</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="qepn_8h.html#a6cf79ec599f6d7870aafe06c71de79be">Q_EXIT_SIG</a>: {</div>
<div class="line">            QActive_disarm(&amp;me-&gt;super)</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">            break;</div>
<div class="line">        }</div>
<div class="line">        case <a class="code" href="qepn_8h.html#ab1a3d74abc659d49b63453c981aace18">Q_INIT_SIG</a>: {</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#a8f06cd90ba5060780fc61a4810e3eb50">Q_TRAN</a>(&amp;Pelican_carsGreenNoPed);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">default</span>: {</div>
<div class="line">            status_ = <a class="code" href="qepn_8h.html#ad8abd2f7098c41ec464343d9d8f1eadc">Q_SUPER</a>(&amp;Pelican_carsEnabled);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> status_;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00456">456</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="acc54c1c6578d6cb53e2c8dd36370e3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc54c1c6578d6cb53e2c8dd36370e3da">&#9670;&nbsp;</a></span>QActive_disarmX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QActive_disarmX </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qfn_8h.html#struct_q_active">QActive</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> const&#160;</td>
          <td class="paramname"><em>tickRate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disarm a time event. </p>
<p>Since the tick counter</p>
<dl class="section user"><dt>Description</dt><dd>The time event of the active object gets disarmed (stopped).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>pointer (see <a class="el" href="index.html#oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tickRate</td><td>tick rate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You should <b>not</b> assume that the timeout event will not arrive after you disarm the time event. The timeout event could be already in the event queue. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00488">488</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="a1e56e284f4f0336a56f5ea8e6520295e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e56e284f4f0336a56f5ea8e6520295e">&#9670;&nbsp;</a></span>QF_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>&#160;</td>
          <td class="paramname"><em>maxActive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>QF-nano initialization. </p>
<dl class="section user"><dt>Description</dt><dd>The function <a class="el" href="qfn_8c.html#a1e56e284f4f0336a56f5ea8e6520295e" title="QF-nano initialization.">QF_init()</a> initializes the number of active objects to be managed by the framework and clears the internal QF-nano variables as well as all registered active objects to zero, which is needed in case when the startup code does not clear the uninitialized data (in violation of the C Standard).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The intended use of the function is to call as follows: QF_init(Q_DIM(QF_active)); </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>the number of active objects must be in range</dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00310">310</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="adf9cb86740bf55c5ad55c1d44fd35921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9cb86740bf55c5ad55c1d44fd35921">&#9670;&nbsp;</a></span>QF_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>QF-nano termination. </p>
<dl class="section user"><dt>Description</dt><dd>This function terminates QF and performs any necessary cleanup. In QF-nano this function is defined in the BSP. Many QF ports might not require implementing <a class="el" href="qfn_8h.html#adf9cb86740bf55c5ad55c1d44fd35921" title="QF-nano termination.">QF_stop()</a> at all, because many embedded applications don't have anything to exit to. </dd></dl>

</div>
</div>
<a id="a189a6d2ece787717c81fbf51fd180732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189a6d2ece787717c81fbf51fd180732">&#9670;&nbsp;</a></span>QF_onStartup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_onStartup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Startup QF-nano callback. </p>
<dl class="section user"><dt>Description</dt><dd>The time line for calling <a class="el" href="qfn_8h.html#a189a6d2ece787717c81fbf51fd180732" title="Startup QF-nano callback.">QF_onStartup()</a> depends on the particular QF port. In most cases, <a class="el" href="qfn_8h.html#a189a6d2ece787717c81fbf51fd180732" title="Startup QF-nano callback.">QF_onStartup()</a> is called from <a class="el" href="qfn_8h.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a>, right before starting any multitasking kernel or the background loop.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>QF initialization example for <a class="el" href="qfn_8h.html#struct_q_active_c_b" title="QActive Control Block.">QActiveCB</a>. </dd></dl>

</div>
</div>
<a id="a779a1bc9482e2d489dc87751cd100fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a779a1bc9482e2d489dc87751cd100fdb">&#9670;&nbsp;</a></span>QF_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qassert_8h.html#ab6fd6105e64ed14a0c9281326f05e623">int_t</a> QF_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfers control to QF-nano to run the application. </p>
<dl class="section user"><dt>Description</dt><dd><a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> is typically called from your startup code after you initialize the QF and start at least one active object with QActive_start(). This implementation of <a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> is for the cooperative Vanilla kernel.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> typically does not return in embedded applications. However, when QP runs on top of an operating system, <a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> might return and in this case the return represents the error code (0 for success). Typically the value returned from <a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> is subsequently passed on as return from main().</dd></dl>
<dl class="section user"><dt>Description</dt><dd><a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> is typically called from your startup code after you initialize the QF and start at least one active object with QActive_start(). This implementation of <a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> is for the preemptive QK-nano kernel.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>In QK-nano <a class="el" href="qkn_8c.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF-nano to run the application.">QF_run()</a> does not return. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>the number of active objects must be initialized by calling: QF_init(Q_DIM(QF_active));</dd></dl>

<p class="definition">Definition at line <a class="el" href="qvn_8c_source.html#l00064">64</a> of file <a class="el" href="qvn_8c_source.html">qvn.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4b698945847395139338d141dd394520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b698945847395139338d141dd394520">&#9670;&nbsp;</a></span>QF_active</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="qfn_8h.html#struct_q_active_c_b">QActiveCB</a> <a class="el" href="qkn_2qfn__port_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a> QF_active[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>active object control blocks </p>

</div>
</div>
<a id="a20ce310ce2ae2fea8db90609091c716e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20ce310ce2ae2fea8db90609091c716e">&#9670;&nbsp;</a></span>QF_maxActive_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> QF_maxActive_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>number of active objects in the application (# elements in QF_active[]) </p>
<dl class="section user"><dt>Description</dt><dd>This variable stores the number of active objects in the application. This is the number of elements (dimension of) the QF_active[] array. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00053">53</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="a206fde6616e95338e4c7647c7731563f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a206fde6616e95338e4c7647c7731563f">&#9670;&nbsp;</a></span>QF_readySet_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> volatile QF_readySet_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ready set of QF-nano. </p>
<dl class="section user"><dt>Description</dt><dd>The QF-nano ready set keeps track of active objects that are ready to run. The ready set represents each active object as a bit, with the bits assigned according to priorities of the active objects. The bit is set if the corresponding active object is ready to run (i.e., has one or more events in its event queue) and zero if the event queue is empty. The QF-nano ready set is one byte-wide, which corresponds to 8 active objects maximum. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00065">65</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="aa3858ca07b0233cb8d969680d13ae2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3858ca07b0233cb8d969680d13ae2ac">&#9670;&nbsp;</a></span>QF_log2Lkup</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="qkn_2qfn__port_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a> QF_log2Lkup[16]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup table for (log2(n) + 1), where n is the index into the table. </p>
<p>This lookup delivers the 1-based number of the most significant 1-bit of a nibble. </p>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00089">89</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="ae867b998c1825bc2e8b6cd0d1472afc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae867b998c1825bc2e8b6cd0d1472afc3">&#9670;&nbsp;</a></span>QF_timerSetX_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> volatile QF_timerSetX_[<a class="el" href="qfn_8h.html#a2b5eb0c96105f58726359f4fcfae9530">QF_MAX_TICK_RATE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer set of QF-nano. </p>
<dl class="section user"><dt>Description</dt><dd>The QF-nano timer set keeps track of the armed time events. The timer set represents the timeout down-counter of each active object as a bit, with the bits assigned according to priorities of the active objects. The bit is set if the corresponding timeout down-counter is not zero (i.e., is counting down) and zero if the down-counter is zero. The QF-nano time event set is one byte-wide, which corresponds to 8 active objects maximum.<br  />
<br  />
The main use of the QF_timerSetX_ is to quickly determine that all time events are disarmed by testing (QF_timerSetX_[tickRate] == 0). If so, the CPU can go to longer sleep mode, in which the system clock tick ISR is turned off.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The test (QF_timerSet_[tickRate] == 0) must be always performed inside a CRITICAL SECTION. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qfn_8c_source.html#l00085">85</a> of file <a class="el" href="qfn_8c_source.html">qfn.c</a>.</p>

</div>
</div>
<a id="a9461b89cbc9fc1a67e4d243ff06a89f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9461b89cbc9fc1a67e4d243ff06a89f7">&#9670;&nbsp;</a></span>QF_invPow2Lkup</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="qkn_2qfn__port_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a> QF_invPow2Lkup[9]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup table for ~(1 &lt;&lt; (n - 1)), where n is the index into the table. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aqfn_8h_html_ae00de7cd5eab428566fb510ed63fac6b"><div class="ttname"><a href="qfn_8h.html#ae00de7cd5eab428566fb510ed63fac6b">QACTIVE_POST_X</a></div><div class="ttdeci">#define QACTIVE_POST_X(me_, margin_, sig_, par_)</div><div class="ttdoc">Polymorphically posts an event to an active object (FIFO) without delivery guarantee (task context).</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00226">qfn.h:226</a></div></div>
<div class="ttc" id="aqepn_8h_html_a54b2da5e70ef983cfa7ca74deac237a3"><div class="ttname"><a href="qepn_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a></div><div class="ttdeci">#define Q_HANDLED()</div><div class="ttdoc">Macro to call in a state-handler when it handles an event.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00360">qepn.h:360</a></div></div>
<div class="ttc" id="aqfn_8h_html_a1e56e284f4f0336a56f5ea8e6520295e"><div class="ttname"><a href="qfn_8h.html#a1e56e284f4f0336a56f5ea8e6520295e">QF_init</a></div><div class="ttdeci">void QF_init(uint_fast8_t maxActive)</div><div class="ttdoc">QF-nano initialization.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8c_source.html#l00310">qfn.c:310</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdoc">exact-width 8-bit unsigned int</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00030">stdint.h:30</a></div></div>
<div class="ttc" id="aqepn_8h_html_ad11e2d4dff3c15b0b5f9a13a47c7fb1a"><div class="ttname"><a href="qepn_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a></div><div class="ttdeci">int enum_t</div><div class="ttdoc">typedef for enumerations used for event signals</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00076">qepn.h:76</a></div></div>
<div class="ttc" id="aqfn_8h_html_a3c1957439cb1ecff92be7b7401bf3159"><div class="ttname"><a href="qfn_8h.html#a3c1957439cb1ecff92be7b7401bf3159">QF_NO_MARGIN</a></div><div class="ttdeci">#define QF_NO_MARGIN</div><div class="ttdoc">special value of margin that causes asserting failure in case event posting fails.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00177">qfn.h:177</a></div></div>
<div class="ttc" id="aqepn_8h_html_ad141f4e9efcba4613f82a8b2c76663ad"><div class="ttname"><a href="qepn_8h.html#ad141f4e9efcba4613f82a8b2c76663ad">QState</a></div><div class="ttdeci">uint_fast8_t QState</div><div class="ttdoc">Type returned from a state-handler function.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00155">qepn.h:155</a></div></div>
<div class="ttc" id="astruct_q_active_vtable_html"><div class="ttname"><a href="struct_q_active_vtable.html">QActiveVtable</a></div><div class="ttdoc">Virtual table for the QActive class.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00145">qfn.h:145</a></div></div>
<div class="ttc" id="aqepn_8h_html_ab1a3d74abc659d49b63453c981aace18"><div class="ttname"><a href="qepn_8h.html#ab1a3d74abc659d49b63453c981aace18">Q_INIT_SIG</a></div><div class="ttdeci">#define Q_INIT_SIG</div><div class="ttdoc">signal for coding nested initial transitions</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00378">qepn.h:378</a></div></div>
<div class="ttc" id="aqfn_8h_html_a13edf5eeb78176195720ac88bf70b3ef"><div class="ttname"><a href="qfn_8h.html#a13edf5eeb78176195720ac88bf70b3ef">QActive_ctor</a></div><div class="ttdeci">void QActive_ctor(QActive *const me, QStateHandler initial)</div><div class="ttdoc">protected &quot;constructor&quot; of an QActive active object.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8c_source.html#l00096">qfn.c:96</a></div></div>
<div class="ttc" id="aqfn_8h_html_a48f78cdad2d12bbbd2fc584bab1c56c2"><div class="ttname"><a href="qfn_8h.html#a48f78cdad2d12bbbd2fc584bab1c56c2">QF_tickXISR</a></div><div class="ttdeci">void QF_tickXISR(uint_fast8_t const tickRate)</div><div class="ttdoc">Processes all armed time events at every clock tick.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8c_source.html#l00393">qfn.c:393</a></div></div>
<div class="ttc" id="aqfn_8h_html_afedb154580e5291936106181d89f84e4"><div class="ttname"><a href="qfn_8h.html#afedb154580e5291936106181d89f84e4">QACTIVE_POST_X_ISR</a></div><div class="ttdeci">#define QACTIVE_POST_X_ISR(me_, margin_, sig_, par_)</div><div class="ttdoc">Polymorphically posts an event to an active object (FIFO) without delivery guarantee (ISR context).</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00275">qfn.h:275</a></div></div>
<div class="ttc" id="aqepn_8h_html_a6cf79ec599f6d7870aafe06c71de79be"><div class="ttname"><a href="qepn_8h.html#a6cf79ec599f6d7870aafe06c71de79be">Q_EXIT_SIG</a></div><div class="ttdeci">#define Q_EXIT_SIG</div><div class="ttdoc">signal for coding exit actions</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00375">qepn.h:375</a></div></div>
<div class="ttc" id="aqassert_8h_html_ad58d2c6dc25f8f0f764eb69faa79eee2"><div class="ttname"><a href="qassert_8h.html#ad58d2c6dc25f8f0f764eb69faa79eee2">Q_DIM</a></div><div class="ttdeci">#define Q_DIM(array_)</div><div class="ttdoc">Helper macro to calculate static dimension of a 1-dim array_.</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00342">qassert.h:342</a></div></div>
<div class="ttc" id="aqfn_8h_html_adbc1b10b5546d6441a823da4867f4692"><div class="ttname"><a href="qfn_8h.html#adbc1b10b5546d6441a823da4867f4692">QActive_armX</a></div><div class="ttdeci">void QActive_armX(QActive *const me, uint_fast8_t const tickRate, QTimeEvtCtr const nTicks, QTimeEvtCtr const interval)</div><div class="ttdoc">Arm the QP-nano one-shot time event.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8c_source.html#l00456">qfn.c:456</a></div></div>
<div class="ttc" id="aqfn_8h_html_ae87ff71293fcaf377be03122512ef95e"><div class="ttname"><a href="qfn_8h.html#ae87ff71293fcaf377be03122512ef95e">QACTIVE_POST_ISR</a></div><div class="ttdeci">#define QACTIVE_POST_ISR(me_, sig_, par_)</div><div class="ttdoc">Polymorphically posts an event to an active object (FIFO) with delivery guarantee (ISR context).</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00246">qfn.h:246</a></div></div>
<div class="ttc" id="aqepn_8h_html_ad8abd2f7098c41ec464343d9d8f1eadc"><div class="ttname"><a href="qepn_8h.html#ad8abd2f7098c41ec464343d9d8f1eadc">Q_SUPER</a></div><div class="ttdeci">#define Q_SUPER(super_)</div><div class="ttdoc">Macro to call in a state-handler when it designates the superstate of a given state.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00354">qepn.h:354</a></div></div>
<div class="ttc" id="aqfn_8h_html_a292a76f05e6800a383c7615b4c88cd0e"><div class="ttname"><a href="qfn_8h.html#a292a76f05e6800a383c7615b4c88cd0e">QActive::super</a></div><div class="ttdeci">QHsm super</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00121">qfn.h:121</a></div></div>
<div class="ttc" id="aqkn_2qfn__port_8h_html_a18f2cc4dd2d00e3d5efb593d0754a95b"><div class="ttname"><a href="qkn_2qfn__port_8h.html#a18f2cc4dd2d00e3d5efb593d0754a95b">QK_ISR_EXIT</a></div><div class="ttdeci">#define QK_ISR_EXIT()</div><div class="ttdoc">QK-nano ISR exit.</div><div class="ttdef"><b>Definition:</b> <a href="qkn_2qfn__port_8h_source.html#l00130">qkn/qfn_port.h:130</a></div></div>
<div class="ttc" id="aqepn_8h_html_a6531b0ab582f41275f19d28ac91d9e4f"><div class="ttname"><a href="qepn_8h.html#a6531b0ab582f41275f19d28ac91d9e4f">Q_STATE_CAST</a></div><div class="ttdeci">#define Q_STATE_CAST(handler_)</div><div class="ttdoc">Perform cast to QStateHandler.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00330">qepn.h:330</a></div></div>
<div class="ttc" id="aqassert_8h_html_a4f4cc7253c4d809b326498b40efd66d3"><div class="ttname"><a href="qassert_8h.html#a4f4cc7253c4d809b326498b40efd66d3">Q_ROM</a></div><div class="ttdeci">#define Q_ROM</div><div class="ttdoc">macro for accessing data in ROM</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00090">qassert.h:90</a></div></div>
<div class="ttc" id="aqepn_8h_html_aa6dc9adf3f51310aa41685019829374b"><div class="ttname"><a href="qepn_8h.html#aa6dc9adf3f51310aa41685019829374b">Q_ENTRY_SIG</a></div><div class="ttdeci">#define Q_ENTRY_SIG</div><div class="ttdoc">QP reserved signals.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00372">qepn.h:372</a></div></div>
<div class="ttc" id="aqkn_2qfn__port_8h_html_ad3a6c9c79a8f39f1299196922e3eb6b5"><div class="ttname"><a href="qkn_2qfn__port_8h.html#ad3a6c9c79a8f39f1299196922e3eb6b5">QK_ISR_ENTRY</a></div><div class="ttdeci">#define QK_ISR_ENTRY()</div><div class="ttdoc">QK-nano ISR entry.</div><div class="ttdef"><b>Definition:</b> <a href="qkn_2qfn__port_8h_source.html#l00127">qkn/qfn_port.h:127</a></div></div>
<div class="ttc" id="aqfn_8h_html_ac41ac57f925509fc92f9b3612f8c03b5"><div class="ttname"><a href="qfn_8h.html#ac41ac57f925509fc92f9b3612f8c03b5">QACTIVE_POST</a></div><div class="ttdeci">#define QACTIVE_POST(me_, sig_, par_)</div><div class="ttdoc">Polymorphically posts an event to an active object (FIFO) with delivery guarantee (task context).</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00197">qfn.h:197</a></div></div>
<div class="ttc" id="aqepn_8h_html_struct_q_evt"><div class="ttname"><a href="qepn_8h.html#struct_q_evt">QEvt</a></div><div class="ttdoc">Event structure.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00131">qepn.h:131</a></div></div>
<div class="ttc" id="aqfn_8h_html_aa601bae6d1b30830ff39b6a13ac10878"><div class="ttname"><a href="qfn_8h.html#aa601bae6d1b30830ff39b6a13ac10878">QF_ACTIVE_CAST</a></div><div class="ttdeci">#define QF_ACTIVE_CAST(a_)</div><div class="ttdoc">This macro encapsulates the upcast to QActive*.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00442">qfn.h:442</a></div></div>
<div class="ttc" id="aqfn_8h_html_a4b698945847395139338d141dd394520"><div class="ttname"><a href="qfn_8h.html#a4b698945847395139338d141dd394520">QF_active</a></div><div class="ttdeci">const QActiveCB Q_ROM QF_active[]</div></div>
<div class="ttc" id="aqfn_8h_html_struct_q_active_c_b"><div class="ttname"><a href="qfn_8h.html#struct_q_active_c_b">QActiveCB</a></div><div class="ttdoc">QActive Control Block.</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00383">qfn.h:383</a></div></div>
<div class="ttc" id="aqepn_8h_html_a80db39e0a2a5e5bca13a19081cde7310"><div class="ttname"><a href="qepn_8h.html#a80db39e0a2a5e5bca13a19081cde7310">QParam</a></div><div class="ttdeci">uint16_t QParam</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00103">qepn.h:103</a></div></div>
<div class="ttc" id="aqfn_8h_html_a779a1bc9482e2d489dc87751cd100fdb"><div class="ttname"><a href="qfn_8h.html#a779a1bc9482e2d489dc87751cd100fdb">QF_run</a></div><div class="ttdeci">int_t QF_run(void)</div><div class="ttdoc">Transfers control to QF-nano to run the application.</div><div class="ttdef"><b>Definition:</b> <a href="qvn_8c_source.html#l00064">qvn.c:64</a></div></div>
<div class="ttc" id="aqassert_8h_html_ab6fd6105e64ed14a0c9281326f05e623"><div class="ttname"><a href="qassert_8h.html#ab6fd6105e64ed14a0c9281326f05e623">int_t</a></div><div class="ttdeci">int int_t</div><div class="ttdoc">typedef for assertions-ids and line numbers in assertions.</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00086">qassert.h:86</a></div></div>
<div class="ttc" id="aqpn_8h_html"><div class="ttname"><a href="qpn_8h.html">qpn.h</a></div><div class="ttdoc">QP-nano public interface including backwards-compatibility layer.</div></div>
<div class="ttc" id="aqepn_8h_html_aa094e6aed843e73b91fc3879e79139d5"><div class="ttname"><a href="qepn_8h.html#aa094e6aed843e73b91fc3879e79139d5">Q_SIG</a></div><div class="ttdeci">#define Q_SIG(me_)</div><div class="ttdoc">Macro to access the signal of the current event of a state machine.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00143">qepn.h:143</a></div></div>
<div class="ttc" id="aqepn_8h_html_a8f06cd90ba5060780fc61a4810e3eb50"><div class="ttname"><a href="qepn_8h.html#a8f06cd90ba5060780fc61a4810e3eb50">Q_TRAN</a></div><div class="ttdeci">#define Q_TRAN(target_)</div><div class="ttdoc">Macro to call in a state-handler when it executes a regular or and initial transition.</div><div class="ttdef"><b>Definition:</b> <a href="qepn_8h_source.html#l00336">qepn.h:336</a></div></div>
<div class="ttc" id="aqfn_8h_html_struct_q_active"><div class="ttname"><a href="qfn_8h.html#struct_q_active">QActive</a></div><div class="ttdoc">QActive active object (based on QHsm-implementation)</div><div class="ttdef"><b>Definition:</b> <a href="qfn_8h_source.html#l00120">qfn.h:120</a></div></div>
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QP-nano 6.8.0</b>
    </li>
  </ul>
</div>
</body>
</html>
