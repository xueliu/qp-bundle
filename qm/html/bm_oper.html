<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QM: Working with Operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ql.css" rel="stylesheet" type="text/css"/>
<link href="qm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a id="logo" title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com"></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QM
   &#160;<span id="projectnumber">5.0.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bm_oper.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Working with Operations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#bm_oper-class">Class Operations</a><ul><li class="level2"><a href="#bm_class-ctor">Class Constructor</a><ul><li class="level3"><a href="#bm_class-ctor_C">Class Constructors in C</a></li>
<li class="level3"><a href="#bm_class-ctor_Cpp">Class Constructors in C++</a></li>
</ul>
</li>
<li class="level2"><a href="#bm_class-xtor">Class Destructor</a></li>
<li class="level2"><a href="#bm_class-oper-stat">Static (Class-Wide) Operations</a></li>
</ul>
</li>
<li class="level1"><a href="#bm_oper-free">Free Operations</a></li>
</ul>
</div>
<div class="textblock"><p>An <em>operation</em> defines an action that can be attached to the instances of a <a class="el" href="bm_class.html">class</a> or to a <a class="el" href="bm_package.html">package</a>. </p>
<hr  />
 <h1><a class="anchor" id="bm_oper-class"></a>
Class Operations</h1>
<p>Operations attached to a <a class="el" href="bm_class.html">class</a> can access individual instances of the class, except for a <code>static</code> class operation, which is cannot access any particular instance. In C, a non-static class operation corresponds to functions that (by a coding convention) takes the "me" pointer to the class attributes (e.g., <code>void Foo_action(FOO * const me, ...)</code>). In C++, a non-static class operation corresponds to a class member function (a function with the "this"-calling convention).</p>
<div class="separate"></div> <h2><a class="anchor" id="bm_class-ctor"></a>
Class Constructor</h2>
<p>A constructor is a kind of class operation that initializes an instance of its class. QM supports class constructors both for C and C++.</p>
<h3><a class="anchor" id="bm_class-ctor_C"></a>
Class Constructors in C</h3>
<p>In C, a constructor should be named <code>ctor</code>, or <code>ctor1</code>, <code>ctor2</code>, etc. if you have more constructors with different signatures (different parameters). The <code>ctor</code> function should have return type <code>void</code>. It can have any number of parameters.</p>
<div class="image">
<img src="bm_class-ctor_c.png" alt=""/>
<div class="caption">
Class constructor in C</div></div>
<p>This piece of the model generates the following code:</p>
<div class="fragment"><div class="line">void Missile_ctor(Missile * const me) {</div>
<div class="line">    QMActive_ctor(&amp;me-&gt;super, Q_STATE_CAST(&amp;Missile_initial));</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The C constructor must always call the superclass' constructor explicitly.</dd></dl>
<h3><a class="anchor" id="bm_class-ctor_Cpp"></a>
Class Constructors in C++</h3>
<p>In C++, a constructor has the same name as the class and no return value. A constructor can have any number of parameters and a class may have any number of overloaded constructors. Constructors may have any accessibility, public, protected or private.</p>
<p>To provide the <b>constructor initializer list</b>, you put the list in the <em>code</em> panel starting with the colon (':') optionally preceded by any number of spaces. You can continue the list for as many lines as you wish.</p>
<p>The <b>constructor initializer list</b> might be followed by the body of the constructor. To start the body, you simply leave one (or more) empty lines after the initializer. QM will interpret all lines of code after such an empty line as the body of the constructor.</p>
<p>Finally, you might skip the <b>constructor initializer list</b> altogether by simply not placing the colon (':') at the beginning.</p>
<p>The following screen shot shows a C++ constructor with a <b>constructor initializer list</b> and a body (just a comment).</p>
<div class="image">
<img src="bm_class-ctor_cpp.png" alt=""/>
<div class="caption">
Class constructor in C++</div></div>
<p>This piece of the model generates the following code:</p>
<div class="fragment"><div class="line">Missile::Missile()</div>
<div class="line">  : QMActive(Q_STATE_CAST(&amp;Missile::initial))</div>
<div class="line">{</div>
<div class="line">    // body of code</div>
<div class="line">}</div>
</div><!-- fragment --><div class="separate"></div> <h2><a class="anchor" id="bm_class-xtor"></a>
Class Destructor</h2>
<div class="separate"></div> <h2><a class="anchor" id="bm_class-oper-stat"></a>
Static (Class-Wide) Operations</h2>
<hr  />
 <h1><a class="anchor" id="bm_oper-free"></a>
Free Operations</h1>
<hr  />
<p><b>Next:</b> <a class="el" href="bm_evt.html">Working with Events</a></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.0.0</b>
    </li>
  </ul>
</div>
</body>
</html>
